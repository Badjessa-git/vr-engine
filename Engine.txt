//Finite State Machine

//state can be set as variable that holds a function.

var activeState = //starting state

//call activeState in loop
//state function looks something like

var iAmAState = function()
{
	//animation logic

	//After animation has played once, <---This part is the problem child
	//-spawn menu
	//-set flag true
	while(flag)
	{
		//-switch to relevant idle animation
		//-listen for response

		//Once response received,
		//-set flag false
		activeState = //an appropriate state based on response
	}
};

var state2 = //similar function to above
var state3 = //similar funciton to above
//etc